@*@model IEnumerable<AppAfpaBrive.Web.ModelView.BeneficiaireModelView>*@
@using AppAfpaBrive.Web.Utilitaires
@model ReflectionIT.Mvc.Paging.PagingList<AppAfpaBrive.Web.ModelView.BeneficiaireModelView>
@{
    ViewData["Title"] = "Liste Beneficiaire";

    var start = this.Model.StartPageIndex;
    var stop = this.Model.StopPageIndex;
    string bas = "bottom_";
}
@*@await Html.PartialAsync("_BeneficiairePartial", Model.BeneficiaireOffreFormations)*@
@using ReflectionIT.Mvc.Paging
@addTagHelper *, ReflectionIT.Mvc.Paging

@*<nav aria-label="Beneficiaire navigation">
        @await this.Component.InvokeAsync("Pager", new { pagingList = this.Model })
    </nav>*@
<div class="container">
    @if (Model.Count() > 0)
    {
        <table class="table table-striped table-reponsive-md" style="width:100%">
            <thead>

                <tr class="table-primary">

                    <th scope="col">

                        @Html.SortableHeaderFor(model => model.NomBeneficiaire)

                    </th>

                    <th scope="col">

                        @Html.DisplayNameFor(model => model.PrenomBeneficiaire)

                    </th>

                    <th scope="col">

                        @Html.DisplayNameFor(model => model.MailBeneficiaire)

                    </th>

                    <th scope="col">

                        @Html.DisplayNameFor(model => model.MailingAutorise)

                    </th>

                </tr>

            </thead>

            <tbody>

            <tbody>
                @foreach (var item in Model)
                {
                    <tr>


                        <td>
                            @Html.DisplayFor(modelItem => item.NomBeneficiaire)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.PrenomBeneficiaire)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.MailBeneficiaire)
                        </td>
                        <td>
                            @Html.CheckBox("checked", true, item.MailingAutorise)
                        </td>



                    </tr>
                }
            </tbody>
        </table>



        @if (this.Model.PageCount > 1)
        {
            <ul class="pagination pagination-sm justify-content-end">

                @if (start > 1)
                {
                    <li class="page-item">
                        <a href="javascript:void(0)" id="first" aria-label="First" class="page-link">
                            <span aria-hidden="true">1</span>
                        </a>
                    </li>
                }

                @if (this.Model.PageIndex > 1)
                {
                    <li class="page-item">
                        <a href="javascript:void(0)" id="previous" aria-label="Previous" class="page-link">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                }

                @for (int i = start; i <= stop; i++)
                {
                    <li class="page-item @((Model.PageIndex == i) ? "active" : null)">
                        <a href="javascript:void(0)" id="@bas@i.ToString()" class="page-link">@i.ToString()</a>
                    </li>
                }

                @if (this.Model.PageIndex < this.Model.PageCount)
                {
                    <li class="page-item">
                        <a href="javascript:void(0)" id="next" aria-label="Next" class="page-link">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                }

                @if (stop < this.Model.PageCount)
                {
                    <li class="page-item">
                        <a href="javascript:void(0)" id="last" aria-label="Last" class="page-link">
                            <span aria-hidden="true">@this.Model.PageCount</span>
                        </a>
                    </li>
                }

            </ul>
        }
    }
</div>
@using (Html.BeginScripts())
{
    <script>
        alert('hello');
    </script>
}
@section Scripts
{
    <script defer type="text/javascript">
        $(document).ready(function () {
            $('.page-link').on('click', function (e) {
                var id = e.attr('id');
                console.log(id)
                //$("#container").load("/OffreDeFormationBeneficiaire/ListeBeneficiaire?id=" + optionSelected.val());


            });

        });



    </script>
}

